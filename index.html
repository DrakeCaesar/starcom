<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Asteroid Traders Trade Table</title>
  </head>
  <body>
    <h2>Asteroid Traders Trade Table</h2>

    <table border="1" cellpadding="10">
      <thead>
        <tr>
          <th>Item</th>
          <th>Quantity</th>
          <th>Sell Price</th>
          <th>Sell %</th>
          <th>Buy Price</th>
          <th>Buy %</th>
        </tr>
      </thead>
      <tbody id="tradeTable">
        <!-- Table content will be generated by JS -->
      </tbody>
    </table>

    <script>
      // Base prices for 100% (linear difference example)
      const basePrices = {
        Cu: 1.5,
        Ag: 2.5,
        Ti: 5.0,
        Y: 6.5,
        Au: 8.0,
        Pt: 10.0,
        U: 11.5,
        Ir: 25.0,
        DBe: 45.0,
        Chr: 55.0,
        Nu: 90.0,
        Eth: 135.0,
        Xen: 200.0,
        Adm: 500.0,
      };

      // Trade data from JSON
      const tradeData = [
        { item: "Cu", quantity: 3071, buy_price: 2.24, sell_price: 1.11 },
        { item: "Ag", quantity: 1165, buy_price: 4.37, sell_price: 2.17 },
        { item: "Ti", quantity: 629, buy_price: 8.6, sell_price: 4.26 },
        { item: "Y", quantity: 1246, buy_price: 9.23, sell_price: 4.58 },
        { item: "Au", quantity: 518, buy_price: 12.25, sell_price: 6.07 },
        { item: "Pt", quantity: 504, buy_price: 14.2, sell_price: 7.04 },
        { item: "U", quantity: 235, buy_price: 19.32, sell_price: 9.58 },
        { item: "Ir", quantity: 282, buy_price: 35.51, sell_price: 17.6 },
        { item: "DBe", quantity: 111, buy_price: 66.32, sell_price: 32.87 },
        { item: "Chr", quantity: 112, buy_price: 89.06, sell_price: 44.14 },
        { item: "Nu", quantity: 63, buy_price: 127.8, sell_price: 63.4 },
        { item: "Eth", quantity: 32, buy_price: 206.5, sell_price: 102.4 },
        { item: "Xen", quantity: 6, buy_price: 385.4, sell_price: 191.0 },
        { item: "Adm", quantity: 8, buy_price: 710.2, sell_price: 352.0 },
      ];

      // Function to calculate percentage
      function calculatePercentage(price, basePrice) {
        return ((price / basePrice) * 100).toFixed(2);
      }

      // Function to populate the table
      function populateTable() {
        const tableBody = document.getElementById("tradeTable");
        tradeData.forEach((data) => {
          const basePrice = basePrices[data.item];
          const sellPercentage = calculatePercentage(
            data.sell_price,
            basePrice,
          );
          const buyPercentage = calculatePercentage(data.buy_price, basePrice);

          const row = document.createElement("tr");
          row.innerHTML = `
            <td>${data.item}</td>
            <td>${data.quantity}</td>
            <td>${data.sell_price}</td>
            <td>${sellPercentage}%</td>
            <td>${data.buy_price}</td>
            <td>${buyPercentage}%</td>
        `;
          tableBody.appendChild(row);
        });
      }

      // Initialize the table on page load
      populateTable();
    </script>
  </body>
</html>
